:root{
  --bg: #F6E8A6;
  --ink: rgba(20, 18, 10, 0.92);
}

*{ box-sizing: border-box; }
html, body{ height:100%; }

body{
  margin:0;
  background: var(--bg);
  color: var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
  overflow-x: hidden;
}

#daisy-layer{
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  overflow: hidden;
}

.daisy{
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
  transform: translate3d(0,0,0) rotate(0deg);
  will-change: transform, opacity;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,0.08));
  mix-blend-mode: multiply;
}

.ii-page{
  min-height: 100vh;
  position: relative;
  z-index: 2;
}

.ii{
  width:100%;
  padding: 0;
  overflow:hidden;
}

.ii__wrap{
  width: min(1200px, 100%);
  margin: 0 auto;
  padding: 0 20px;
  min-height: 100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 14px;
}

.ii__stage{
  width:100%;
  flex: 1 1 auto;
  min-height: calc(100vh - 120px);
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}

.ii__stage-inner{
  width: min(var(--ii-max-w), 92vw);
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  transform: translateZ(0);
}

.ii__stage-inner::before{
  content:"";
  position:absolute;
  inset: -18%;
  background: radial-gradient(circle at 50% 45%, rgba(255,255,255,0.78), rgba(255,255,255,0) 62%);
  filter: blur(10px);
  z-index: 0;
  pointer-events:none;
}

.ii__img{
  display:block;
  width:100%;
  height:auto;
  user-select:none;
  -webkit-user-drag:none;
  pointer-events:none;
}

.ii__envelope{
  width:100%;
  position:relative;
  border:0;
  padding:0;
  background: transparent;
  cursor:pointer;
  filter: drop-shadow(var(--ii-shadow));
  transform-origin: 50% 50%;
  will-change: transform, opacity;
  z-index: 6;
  transform: translateZ(0);
  -webkit-tap-highlight-color: transparent;
}

.ii__envelope:focus{ outline: none; }
.ii__envelope:focus-visible{
  outline: 3px solid rgba(0,0,0,0.16);
  outline-offset: 12px;
  border-radius: 22px;
}

.ii__flip{
  width:100%;
  position:relative;
  display:block;
  aspect-ratio: 1 / 1;
  transform-style:preserve-3d;
  transition: transform 700ms cubic-bezier(.2,.8,.2,1);
}

.ii__flip-face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
}

.ii__flip-back{ transform: rotateY(180deg); }
.ii__envelope.is-flipped .ii__flip{ transform: rotateY(180deg); }

.ii__piece{
  position:absolute;
  inset:0;
  width:100%;
  height:auto;
  opacity:0;
  pointer-events:none;
  filter: drop-shadow(var(--ii-shadow-soft));
  transition: opacity 220ms ease;
}

.ii[data-state="back"] .ii__piece{ opacity: 1; }
.ii[data-state="opening"] .ii__piece{ opacity: 0; }

.ii[data-state="opening"] .ii__envelope{
  animation: iiEnvelopeExit 1400ms cubic-bezier(.2,.8,.2,1) forwards;
  pointer-events:none;
}

.ii[data-state="opening"] .ii__envelope.ii__envelope--behind{ z-index: 1; }

@keyframes iiEnvelopeExit{
  0%   { transform: translateX(0) rotate(0deg); opacity: 1; }
  38%  { transform: translateX(0) rotate(90deg); opacity: 1; }
  100% { transform: translateX(-46vw) rotate(90deg); opacity: 0; }
}

.ii__invite{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  z-index: 3;
}

.ii__invite-inner{
  width: min(var(--ii-max-w), 92vw);
  position:relative;
  opacity:0;
  transform: scale(0.92) translateZ(0);
  pointer-events:none;
  transition: opacity 520ms ease, transform 520ms cubic-bezier(.2,.8,.2,1);
  will-change: opacity, transform;
  z-index: 4;
}

.ii[data-state="opening"] .ii__invite-inner{
  opacity:1;
  transform: scale(var(--ii-invite-scale));
  pointer-events:auto;
  transition-delay: var(--ii-reveal-delay);
}

.ii[data-state="revealed"] .ii__invite-inner,
.ii[data-state="ready"] .ii__invite-inner{
  opacity:1;
  transform: scale(var(--ii-invite-scale));
  pointer-events:auto;
  transition-delay: 0ms;
}

.ii__invite-layer{
  position:absolute;
  left:0;
  bottom:0;
  width:100%;
  touch-action:none;
  will-change: transform;
}

.ii__invite-outer{
  z-index: 4;
  pointer-events:auto;
  filter: drop-shadow(var(--ii-shadow-layer));
}

.ii__invite-innercard{
  position:relative;
  width:100%;
  bottom:0;
  left:0;
  z-index: 3;
  pointer-events:auto;
  filter: drop-shadow(var(--ii-shadow-layer));
}

.ii__card{
  width:100%;
  position:relative;
  transform-style:preserve-3d;
  transition: transform 720ms cubic-bezier(.2,.8,.2,1);
}

.ii__card-face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
}

.ii__card-front{ position:relative; }
.ii__card-back{ transform: rotateY(180deg); }
.ii__invite-innercard.is-flipped .ii__card{ transform: rotateY(180deg); }

.ii__hint{
  position:absolute;
  z-index: 6;
  display:flex;
  align-items:center;
  gap: 10px;
  opacity:0;
